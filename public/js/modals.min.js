"use strict";var ModalsJs=function(){var e=[],t={title:"Are you sure you want to close this window?",accept:"Yes",reject:"No"},n=l("div","modalsjs-container"),o=l("div","modalsjs-backblur");function i(e,t,n){var o='<img class="modalsjs-image modalsjs-shadow" src=\''+e+"' alt='"+(t||"")+"'><figcaption>";t&&(o+="<div class='modalsjs-image-title'>"+t+"</div>"),n&&(o+="<small class='modalsjs-image-desc'>"+n+"</small>");var i=l("figure","modalsjs-view",o+="</figcaption>"),a={type:"modal",element:i};return i.addEventListener("click",function(){return m(!0,a)}),s(a),a}function s(t){e.push(t),1===e.length&&document.body.appendChild(n),n.appendChild(t.element)}function a(){if(0!==e.length)return e[e.length-1]}function l(e,t,n){var o=document.createElement(e);return o.className=t||"",n&&(o.innerHTML=n),o}function r(t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return void e.splice(n,1)}function d(o){return new Promise(function(i,s){var a=l("div","modalsjs-view modalsjs-shadow modalsjs-bgc",o.custom||"<b class='modalsjs-warning-text'>"+(o.title||t.title)+"</b><button class='modalsjs-warning-yes'>"+(o.accept||t.accept)+"</button><button class='modalsjs-warning-no'>"+(o.reject||t.reject)+"</button>"),d={type:"warning",element:a};a.addEventListener("click",function(e){e.target.matches(".modalsjs-warning-yes")?(n.removeChild(a),r(d),i(!0)):e.target.matches(".modalsjs-warning-no")&&(n.removeChild(a),r(d),i(!1))}),e.push(d),n.appendChild(a)})}function c(e,n){return!0!==e&&n.options&&n.options.warning?(o=n.options.warningOptions||t,i=n,d(o).then(function(e){e&&m(!0,i)}),!1):(n.options&&n.options.onClose&&n.options.onClose(),!0);var o,i}function m(t,o){var i=a();"warning"===i.type&&(n.removeChild(i.element),e.pop()),c(t,o=o||a())&&(n.removeChild(o.element),r(o),0===e.length&&document.body.removeChild(n))}return o.addEventListener("click",function(){return m()}),n.appendChild(o),{open:function(e,t){var n=l("div","modalsjs-view modalsjs-shadow modalsjs-bgc"),o={type:"modal",element:n,options:t};if(!t||!t.hideClose){var i=l("div","modalsjs-closebutton","âœ–");i.addEventListener("click",function(){return m(!1,o)}),i.style.position="absolute";var a=l("div");a.style.position="relative",a.style.float="right",a.appendChild(i),n.appendChild(a)}var r=l("div","modalsjs-content");r.innerHTML=e,n.appendChild(r),s(o);var d=n.querySelector("input,select,textarea");return d&&d.focus(),o},openImage:i,close:m,closeAll:function(){for(var t=0;t<e.length;t++)n.removeChild(e[t].element);document.body.removeChild(n),e=[]},prompt:d,initPopupImages:function(e,t){for(var n=Array.from(e.getElementsByTagName("img")).filter(function(e){return e.matches(".modalsjs-popupimage")}),o=0;o<n.length;o++)n[o].addEventListener("click",function(e){i(e.target.dataset.imgSrc||e.target.src,e.target.dataset.imgTitle,e.target.dataset.imgDesc)})}}}();
//# sourceMappingURL=modals.min.js.map